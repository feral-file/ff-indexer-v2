# Feral File Indexer Ethereum Event Emitter Configuration

debug: true
sentry_dsn: ""

database:
  host: localhost
  port: 5432
  user: postgres
  password: postgres
  dbname: ff_indexer
  sslmode: disable
  # Connection pool settings - adjust based on event emission rate
  # Event emitters primarily write block cursors, lower pool size is usually sufficient
  max_open_conns: 15        # Maximum number of open connections (default: 25)
  max_idle_conns: 3         # Maximum number of idle connections (default: 5)
  conn_max_lifetime: 5m      # Maximum time a connection can be reused (default: 5m)
  conn_max_idle_time: 10m   # Maximum time a connection can be idle (default: 10m)

nats:
  url: nats://localhost:4222
  stream_name: BLOCKCHAIN_EVENTS
  max_reconnects: 10
  reconnect_wait: 2s
  connection_name: ethereum-event-emitter

ethereum:
  websocket_url: ""
  chain_id: eip155:1
  start_block: 0
  block_head_ttl: 12
  block_head_stale_window: 60

worker:
  pool_size: 20
  queue_size: 1024

