apiVersion: v1
kind: Secret
metadata:
  name: {{ include "ff-indexer.fullname" . }}-secrets
  labels:
    {{- include "ff-indexer.labels" . | nindent 4 }}
type: Opaque
stringData:
  # Database credentials
  postgresql-password: {{ .Values.postgresql.auth.password | default "postgres" | quote }}
  
  # External service credentials (containing API keys/tokens)
  ethereum-rpc-url: {{ .Values.config.ethereum.rpcUrl | quote }}
  ethereum-websocket-url: {{ .Values.config.ethereum.websocketUrl | quote }}
  tezos-websocket-url: {{ .Values.config.tezos.websocketUrl | quote }}
  sentry-dsn: {{ .Values.config.sentryDsn | quote }}
  
  # Authentication secrets
  jwt-public-key: {{ .Values.config.auth.jwtPublicKey | quote }}
  api-keys: {{ .Values.config.auth.apiKeys | join "," | quote }}
  
  # Cloudflare credentials for media processing
  cloudflare-account-id: {{ .Values.config.cloudflare.accountId | quote }}
  cloudflare-api-token: {{ .Values.config.cloudflare.apiToken | quote }}

